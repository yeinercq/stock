<div class="container mb-5">
  <%= link_to sanitize("&larr; Back to invoices"), invoices_path %>
  <div class="card shadow mt-4">
    <div class="card-header">
      Invoice: <%= @invoice.id %>
    </div>
    <div class="card-body">
      <div class="form-inputs">
        <div class="row">
          <div class="col-12 col-sm-6">
            <h4>
              Client: <%= @invoice.customer.name %>
            </h4>
          </div>
        </div>
        <div class="row justify-content-center mt-4 bg-light">
            <div class="col-12 col-sm-4"><b>Item</b></div>
            <div class="col-12 d-none col-sm-2 d-sm-block"><b>Quantity</b></div>
            <div class="col-12 d-none col-sm-2 d-sm-block"><b>Price</b></div>
            <div class="col-12 d-none col-sm-2 d-sm-block"><b>Actions</b></div>
        </div>
        <div class="row mt-4 mb-4">
          <%= turbo_frame_tag "items" do %>
            <%= render @invoice.items, invoice: @invoice %>
          <% end %>
          <%= turbo_frame_tag Item.new %>
        </div>
      </div>
    </div>
    <div class="card-footer">
        <%= link_to "Add item", new_invoice_item_path(@invoice), data: { turbo_frame: dom_id(Item.new) }, class: "btn btn-primary" %>
    </div>
  </div>
</div>


<%= turbo_frame_tag dom_id(@invoice, :total) do %>
  <%= render "invoices/total", invoice: @invoice %>
<% end %>
